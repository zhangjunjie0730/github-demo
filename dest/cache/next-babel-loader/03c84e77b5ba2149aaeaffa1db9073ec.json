{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\MyGit\\\\github-demo\\\\components\\\\UserAvatar\\\\UserAvatar.jsx\",\n    _this = this;\n\nimport { Avatar, Button, Dropdown, Menu, Tooltip } from 'antd';\nimport { withRouter } from 'next/router';\nimport { UserOutlined } from '@ant-design/icons';\n\nvar UserAvatar = function UserAvatar(_ref) {\n  var router = _ref.router,\n      user = _ref.user,\n      onLogout = _ref.onLogout;\n\n  var logoutClick = function logoutClick() {\n    onLogout();\n    router.push('/');\n  }; // 用户下拉菜单\n\n\n  var UserDropdown = /*#__PURE__*/_jsxDEV(Menu, {\n    children: /*#__PURE__*/_jsxDEV(Menu.Item, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: logoutClick,\n        type: \"link\",\n        children: \"\\u767B\\u51FA\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }, _this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: user && user.id ? /*#__PURE__*/_jsxDEV(Dropdown, {\n      overlay: UserDropdown,\n      placement: \"bottomCenter\",\n      children: /*#__PURE__*/_jsxDEV(Avatar, {\n        size: 40,\n        src: user.avatar_url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, _this) : /*#__PURE__*/_jsxDEV(Tooltip, {\n      placement: \"bottom\",\n      title: \"\\u70B9\\u51FB\\u8FDB\\u884C\\u767B\\u5F55\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/prepare-auth?url=\".concat(router.asPath),\n        children: /*#__PURE__*/_jsxDEV(Avatar, {\n          size: 40,\n          icon: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 37\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false);\n};\n\n_c = UserAvatar;\nexport default _c2 = withRouter(UserAvatar);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"UserAvatar\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["E:/MyGit/github-demo/components/UserAvatar/UserAvatar.jsx"],"names":["Avatar","Button","Dropdown","Menu","Tooltip","withRouter","UserOutlined","UserAvatar","router","user","onLogout","logoutClick","push","UserDropdown","id","avatar_url","asPath"],"mappings":";;;;;;AAAA,SAASA,MAAT,EAAiBC,MAAjB,EAAyBC,QAAzB,EAAmCC,IAAnC,EAAyCC,OAAzC,QAAwD,MAAxD;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,YAAT,QAA6B,mBAA7B;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,OAAgC;AAAA,MAA7BC,MAA6B,QAA7BA,MAA6B;AAAA,MAArBC,IAAqB,QAArBA,IAAqB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AACjD,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBD,IAAAA,QAAQ;AACRF,IAAAA,MAAM,CAACI,IAAP,CAAY,GAAZ;AACD,GAHD,CADiD,CAKjD;;;AACA,MAAMC,YAAY,gBAChB,QAAC,IAAD;AAAA,2BACE,QAAC,IAAD,CAAM,IAAN;AAAA,6BACE,QAAC,MAAD;AAAQ,QAAA,OAAO,EAAEF,WAAjB;AAA8B,QAAA,IAAI,EAAC,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;;AAUA,sBACE;AAAA,cACGF,IAAI,IAAIA,IAAI,CAACK,EAAb,gBACC,QAAC,QAAD;AAAU,MAAA,OAAO,EAAED,YAAnB;AAAiC,MAAA,SAAS,EAAC,cAA3C;AAAA,6BACE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAE,EAAd;AAAkB,QAAA,GAAG,EAAEJ,IAAI,CAACM;AAA5B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aADD,gBAKC,QAAC,OAAD;AAAS,MAAA,SAAS,EAAC,QAAnB;AAA4B,MAAA,KAAK,EAAC,sCAAlC;AAAA,6BACE;AAAG,QAAA,IAAI,8BAAuBP,MAAM,CAACQ,MAA9B,CAAP;AAAA,+BACE,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAE,EAAd;AAAkB,UAAA,IAAI,eAAE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAxB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AANJ,mBADF;AAeD,CA/BD;;KAAMT,U;AAiCN,qBAAeF,UAAU,CAACE,UAAD,CAAzB","sourcesContent":["import { Avatar, Button, Dropdown, Menu, Tooltip } from 'antd';\r\nimport { withRouter } from 'next/router';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nconst UserAvatar = ({ router, user, onLogout }) => {\r\n  const logoutClick = () => {\r\n    onLogout();\r\n    router.push('/');\r\n  };\r\n  // 用户下拉菜单\r\n  const UserDropdown = (\r\n    <Menu>\r\n      <Menu.Item>\r\n        <Button onClick={logoutClick} type=\"link\">\r\n          登出\r\n        </Button>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {user && user.id ? (\r\n        <Dropdown overlay={UserDropdown} placement=\"bottomCenter\">\r\n          <Avatar size={40} src={user.avatar_url} />\r\n        </Dropdown>\r\n      ) : (\r\n        <Tooltip placement=\"bottom\" title=\"点击进行登录\">\r\n          <a href={`/prepare-auth?url=${router.asPath}`}>\r\n            <Avatar size={40} icon={<UserOutlined />} />\r\n          </a>\r\n        </Tooltip>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default withRouter(UserAvatar);\r\n"]},"metadata":{},"sourceType":"module"}